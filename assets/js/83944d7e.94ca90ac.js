"use strict";(globalThis.webpackChunkprojeto_agendamento=globalThis.webpackChunkprojeto_agendamento||[]).push([[5551],{8453:(e,i,r)=>{r.d(i,{R:()=>t,x:()=>d});var s=r(6540);const n={},a=s.createContext(n);function t(e){const i=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:t(e.components),s.createElement(a.Provider,{value:i},e.children)}},9919:(e,i,r)=>{r.r(i),r.d(i,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"arquitetura/visao-geral-arquitetura","title":"Vis\xe3o Geral da Arquitetura","description":"A arquitetura segue princ\xedpios de Clean Architecture, Domain-Driven Design (DDD) e Resili\xeancia Operacional.","source":"@site/docs/arquitetura/visao-geral-arquitetura.md","sourceDirName":"arquitetura","slug":"/arquitetura/visao-geral-arquitetura","permalink":"/projeto_agendamento/docs/arquitetura/visao-geral-arquitetura","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/arquitetura/visao-geral-arquitetura.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Arquitetura","permalink":"/projeto_agendamento/docs/category/arquitetura"},"next":{"title":"Estrutura de Dados","permalink":"/projeto_agendamento/docs/arquitetura/estrutura-dados"}}');var n=r(4848),a=r(8453);const t={sidebar_position:1},d="Vis\xe3o Geral da Arquitetura",l={},o=[{value:"\ud83c\udfd7\ufe0f Camadas",id:"\ufe0f-camadas",level:2},{value:"1. Frontend",id:"1-frontend",level:3},{value:"WebApp",id:"webapp",level:4},{value:"WhatsApp",id:"whatsapp",level:4},{value:"2. Backend",id:"2-backend",level:3},{value:"BFF / API Gateway",id:"bff--api-gateway",level:4},{value:"Servi\xe7os de Dom\xednio",id:"servi\xe7os-de-dom\xednio",level:4},{value:"3. Infraestrutura",id:"3-infraestrutura",level:3},{value:"PostgreSQL",id:"postgresql",level:4},{value:"Redis",id:"redis",level:4},{value:"Fila/EventBus",id:"filaeventbus",level:4},{value:"WhatsApp Provider",id:"whatsapp-provider",level:4},{value:"Observabilidade",id:"observabilidade",level:4},{value:"\ud83c\udfaf Responsabilidades dos Servi\xe7os",id:"-responsabilidades-dos-servi\xe7os",level:2},{value:"\ud83d\udee1\ufe0f Princ\xedpios Arquiteturais",id:"\ufe0f-princ\xedpios-arquiteturais",level:2},{value:"Detectar",id:"detectar",level:3},{value:"Resistir",id:"resistir",level:3},{value:"Monitorar",id:"monitorar",level:3}];function c(e){const i={h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.header,{children:(0,n.jsx)(i.h1,{id:"vis\xe3o-geral-da-arquitetura",children:"Vis\xe3o Geral da Arquitetura"})}),"\n",(0,n.jsxs)(i.p,{children:["A arquitetura segue princ\xedpios de ",(0,n.jsx)(i.strong,{children:"Clean Architecture"}),", ",(0,n.jsx)(i.strong,{children:"Domain-Driven Design (DDD)"})," e ",(0,n.jsx)(i.strong,{children:"Resili\xeancia Operacional"}),"."]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.h2,{id:"\ufe0f-camadas",children:"\ud83c\udfd7\ufe0f Camadas"}),"\n",(0,n.jsx)(i.p,{children:"Camada \xe9 a denomina\xe7\xe3o para agrupar componentes com responsabilidades similares dentro do c\xf3digo. A arquitetura \xe9 dividida em tr\xeas macro camadas principais:"}),"\n",(0,n.jsx)(i.h3,{id:"1-frontend",children:"1. Frontend"}),"\n",(0,n.jsx)(i.h4,{id:"webapp",children:"WebApp"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Interface para o dono e equipe"}),"\n",(0,n.jsx)(i.li,{children:"Gerenciamento de servi\xe7os, turnos, agenda e m\xe9tricas"}),"\n",(0,n.jsx)(i.li,{children:"Interface responsiva e intuitiva"}),"\n"]}),"\n",(0,n.jsx)(i.h4,{id:"whatsapp",children:"WhatsApp"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Interface do cliente via bot conversacional"}),"\n",(0,n.jsx)(i.li,{children:"Integra\xe7\xe3o nativa com WhatsApp Business API"}),"\n",(0,n.jsx)(i.li,{children:"Experi\xeancia conversacional otimizada"}),"\n"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.h3,{id:"2-backend",children:"2. Backend"}),"\n",(0,n.jsx)(i.h4,{id:"bff--api-gateway",children:"BFF / API Gateway"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Autentica\xe7\xe3o e autoriza\xe7\xe3o"}),"\n",(0,n.jsx)(i.li,{children:"Valida\xe7\xe3o de requisi\xe7\xf5es"}),"\n",(0,n.jsx)(i.li,{children:"Orquestra\xe7\xe3o de servi\xe7os"}),"\n",(0,n.jsx)(i.li,{children:"Rate limiting e seguran\xe7a"}),"\n"]}),"\n",(0,n.jsx)(i.h4,{id:"servi\xe7os-de-dom\xednio",children:"Servi\xe7os de Dom\xednio"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Auth & RBAC"}),"\n",(0,n.jsx)(i.li,{children:"Cat\xe1logo"}),"\n",(0,n.jsx)(i.li,{children:"Equipe & Turnos"}),"\n",(0,n.jsx)(i.li,{children:"Agenda & Booking"}),"\n",(0,n.jsx)(i.li,{children:"Notifica\xe7\xf5es"}),"\n",(0,n.jsx)(i.li,{children:"Analytics & Dashboard"}),"\n"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.h3,{id:"3-infraestrutura",children:"3. Infraestrutura"}),"\n",(0,n.jsx)(i.h4,{id:"postgresql",children:"PostgreSQL"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Banco principal relacional"}),"\n",(0,n.jsx)(i.li,{children:"Dados transacionais"}),"\n",(0,n.jsx)(i.li,{children:"Hist\xf3rico e auditoria"}),"\n"]}),"\n",(0,n.jsx)(i.h4,{id:"redis",children:"Redis"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Cache de dados frequentes"}),"\n",(0,n.jsx)(i.li,{children:"Sess\xf5es de bot"}),"\n",(0,n.jsx)(i.li,{children:"Locks de agendamento"}),"\n",(0,n.jsx)(i.li,{children:"Filas tempor\xe1rias"}),"\n"]}),"\n",(0,n.jsx)(i.h4,{id:"filaeventbus",children:"Fila/EventBus"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Mensageria ass\xedncrona"}),"\n",(0,n.jsx)(i.li,{children:"Desacoplamento de servi\xe7os"}),"\n",(0,n.jsx)(i.li,{children:"Op\xe7\xf5es: SQS / RabbitMQ / PubSub"}),"\n"]}),"\n",(0,n.jsx)(i.h4,{id:"whatsapp-provider",children:"WhatsApp Provider"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Integra\xe7\xe3o com WhatsApp Business API"}),"\n",(0,n.jsx)(i.li,{children:"Op\xe7\xf5es: Meta / Twilio / Gupshup"}),"\n"]}),"\n",(0,n.jsx)(i.h4,{id:"observabilidade",children:"Observabilidade"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Logs estruturados"}),"\n",(0,n.jsx)(i.li,{children:"M\xe9tricas de neg\xf3cio e t\xe9cnicas"}),"\n",(0,n.jsx)(i.li,{children:"Tracing distribu\xeddo"}),"\n",(0,n.jsx)(i.li,{children:"Auditoria completa"}),"\n"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.h2,{id:"-responsabilidades-dos-servi\xe7os",children:"\ud83c\udfaf Responsabilidades dos Servi\xe7os"}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Servi\xe7o"}),(0,n.jsx)(i.th,{children:"Responsabilidade"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"BFF / API Gateway"})}),(0,n.jsx)(i.td,{children:"Centraliza autentica\xe7\xe3o, RBAC, rate limit, valida\xe7\xf5es e orquestra dom\xednios."})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"Auth & RBAC"})}),(0,n.jsx)(i.td,{children:"Gest\xe3o de login, permiss\xf5es e pap\xe9is (OWNER e STAFF)"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"Cat\xe1logo"})}),(0,n.jsx)(i.td,{children:"Gerencia servi\xe7os e seus atributos"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"Equipe & Turnos"})}),(0,n.jsx)(i.td,{children:"Armazena informa\xe7\xf5es sobre a disponibilidade dos funcion\xe1rios"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"Agenda & Booking"})}),(0,n.jsx)(i.td,{children:"Lida com cria\xe7\xe3o, confirma\xe7\xe3o e cancelamento de agendamentos"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"Notifica\xe7\xf5es"})}),(0,n.jsx)(i.td,{children:"Envia mensagens via WhatsApp (confirma\xe7\xf5es, lembretes, alertas)"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"Analytics / Dashboard"})}),(0,n.jsx)(i.td,{children:"Agrega dados de uso e ocupa\xe7\xe3o"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"Bot Orchestrator"})}),(0,n.jsx)(i.td,{children:"Coordena a conversa com o cliente, salvando o estado e interagindo com o BFF"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"Webhook Ingest"})}),(0,n.jsx)(i.td,{children:"Ponto de entrada seguro para mensagens do WhatsApp"})]})]})]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.h2,{id:"\ufe0f-princ\xedpios-arquiteturais",children:"\ud83d\udee1\ufe0f Princ\xedpios Arquiteturais"}),"\n",(0,n.jsx)(i.h3,{id:"detectar",children:"Detectar"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Valida\xe7\xe3o de schema"}),"\n",(0,n.jsx)(i.li,{children:"Assinatura HMAC em webhooks"}),"\n",(0,n.jsx)(i.li,{children:"Rate limit por tenant"}),"\n",(0,n.jsx)(i.li,{children:"Deduplica\xe7\xe3o"}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"resistir",children:"Resistir"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Redis para locks e cache"}),"\n",(0,n.jsx)(i.li,{children:"Filas ass\xedncronas para eventos"}),"\n",(0,n.jsx)(i.li,{children:"Retries autom\xe1ticos"}),"\n",(0,n.jsx)(i.li,{children:"Circuit breakers"}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"monitorar",children:"Monitorar"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Logs estruturados"}),"\n",(0,n.jsx)(i.li,{children:"Tracing distribu\xeddo (OpenTelemetry)"}),"\n",(0,n.jsx)(i.li,{children:"M\xe9tricas t\xe9cnicas e de neg\xf3cio"}),"\n",(0,n.jsx)(i.li,{children:"Alertas proativos"}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}}}]);